<%- include('../partials/header', {title: folder.name + ' - Drive'}) %>

<%- include('../partials/interactive-nav') %>

<div class="drive-wrapper w-full bg-zinc-950 py-8 px-50 py-20">
  <h1 class="text-2xl font-bold text-zinc-300 mb-8 px-4">
    <%= folder.name %>
  </h1>
  
  <input type="hidden" id="currentFolderId" value="<%= folder._id %>">

  <div class="drive-folders w-full min-h-[80vh] grid grid-cols-8 gap-6">
    <%# Display subfolders %>
    <% folders.forEach(function(subfolder) { %>
      <div class="folder w-20 h-20 flex flex-col items-center gap-2">
        <a href="/drive/folder/<%= subfolder._id %>" class="w-20 h-20 flex flex-col">
          <img src="/images/folders-yellow.svg" alt="" />
        </a>
        <a href="/drive/folder/<%= subfolder._id %>" class="text-[.6vw]">
          <%= subfolder.name %>
        </a>
      </div>
    <% }); %>

    <%# Display files %>
    <% files.forEach(function(file) { %>
      <div class="file w-20 h-20 flex flex-col items-center gap-2">
        <a href="<%= file.url %>" target="_blank" class="w-20 h-20 flex flex-col">
          <%# You can add a file icon here later %>
          <img src="/images/file-icon.svg" alt="" /> 
        </a>
        <a href="<%= file.url %>" target="_blank" class="text-[.6vw]">
          <%= file.filename %>
        </a>
      </div>
    <% }); %>
  </div>
</div>

<script src="/javascripts/script.js"></script>

<%- include('../partials/footer') %>